<html>
<body style="font-family:sans-serif">
<div style="margin-left:20%;margin-right:20%">
<h1 style="font-family:sans-serif">
Experimental G-Code
</h1>
<canvas id="myCanvas" width="400" height="400"></canvas>

<p>
G-Code is typically generated in a manner intended to preserve the integrity of a given mesh. Strength and accuracy are key and the tools to generate such toolpaths are sophisticated. The project here is to break the typical methods of G-Code generation in order to learn how to treat FDM printers as not just a prototyping tool, but a new expressive medium. This project represents an early step in that process, and to that end I've bitten off some low hanging fruit, cylinders are the easiest thing to create with an FDM printer and bowls are only slightly harder.  The above image is the output of a tightly wound spiral. The code below generated the spiral.
</p>

<code><pre>
<div style="background:black;color:white;width:80%;padding-left:10px">
var vectors = [];
var pi = 3.141592;

function makeVectors(){

	for(var i = 0 ; i < 1000 ; i++){
		var vec = {};
		vec.x = Math.sin((i/100.0) * pi * 2);
		vec.y = Math.cos((i/100.0) * pi * 2);
		vec.z = .27+((i/100.0)*.27);
		vectors.push(vec);
	}
}

</code></pre>


These coordinates are pushed onto an array are used to both draw the spiral and output the G-Code, which is printed out below. If you copy and paste the code at the bottom of the page (yes, all of it) you can send it to a Makerbot which will then print a nice, thin walled cylinder.  From this point you can start to adjust what happens at each coordinate to produce extrusions which don't lay directly on top of each other, but can criss cross to make woven patterns or spew randomly for birds-nest like effects.

Please have a look at the source for this page to see how the code was generated. Also try sending this G-Code to your FDM printer, and have a look at some of the results I've achieved here:

<a href="http://www.dlobser.com/Vessel">Vessel</a>
</div>
</div>
<script>

var c = document.getElementById("myCanvas");
var ctx = c.getContext("2d");

var pi = 3.141592;

var vectors = [];

makeVectors();
drawVectors();
saveGCode(vectors);


function makeVectors(){

	for(var i = 0 ; i < 1000 ; i++){
		var vec = {};
		vec.x = Math.sin((i/100.0) * pi * 2);//*1+Math.sin((i/100)*pi*20)*.1;
		vec.y = Math.cos((i/100.0) * pi * 2);//*1+Math.cos((i/100)*pi*20)*.1;
		vec.z = .27+((i/100.0)*.27);
		vectors.push(vec);
	}
}

function drawVectors(){

	ctx.moveTo(200+vectors[0].x*100,250+vectors[0].y*100);

	for(var i = 0 ; i < vectors.length ; i++){
		var vec = vectors[i];
		ctx.lineTo(200+vec.x*100,(vec.z*-10)+250+vec.y*100);
		ctx.stroke();	
	}

}


function saveGCode(arr) {

    var output = " <br>M73 P0 (enable build progress)<br>G21 (set units to mm)<br>G90 (set positioning to absolute)<br>G10 P1 X-16.5 Y0 Z0 (Designate T0 Offset)<br>G55 (Recall offset cooridinate system)<br>(**** begin homing ****)<br>G162 X Y F2500 (home XY axes maximum)<br>G161 Z F1100 (home Z axis minimum)<br>G92 Z-5 (set Z to -5)<br>G1 Z0.0 (move Z to ÔøΩ0?)<br>G161 Z F100 (home Z axis minimum)<br>M132 X Y Z A B (Recall stored home offsets for XYZAB axis)<br>(**** end homing ****)<br>G1 X112 Y-73 Z155 F3300.0 (move to waiting position)<br>G130 X0 Y0 A0 B0 (Lower stepper Vrefs while heating)<br>M6 T0 (wait for toolhead, and HBP to reach temperature)<br>M104 S230 T0 (set extruder temperature)<br>M6 T0 (wait for toolhead, and HBP to reach temperature)<br>G130 X127 Y127 A127 B127 (Set Stepper motor Vref to defaults)<br>M108 R3.0 T0<br>G0 X112 Y-73 (Position Nozzle)<br>G0 Z0.2 (Position Height)<br>M108 R4.0 (Set Extruder Speed)<br>M101 (Start Extruder)<br>G4 P1500 (Create Anchor)<br>";


    for(var i = 0 ; i < arr.length ; i++){

                
            output+="G1 X" + arr[i].x*30;
            output+=" Y"  +  arr[i].y*30;
            output+=" Z"  +  arr[i].z;
            output+=" F2000";
            output+='<br>';
        
          
    }

  	document.write(output);
}


</script>
<body>
</html>