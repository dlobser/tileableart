
<!! ASSIGNMENT DUE WEDNESDAY SEPTEMBER 18, 2013 FOR KEN PERLIN'S GRAPHICS CLASS>

<script src="script.js"></script>

<!! REPLACE THE TEXT BELOW WITH A TITLE FOR YOUR SHADER>

<script id="title" type="text/plain">
Old VHS meets film strip
</script>

<!! REPLACE THE TEXT BELOW WITH A BRIEF DESCRIPTION OF YOUR SHADER>

<script id="description" type="text/plain">
Your homework this week is to write a more interesting shader than the one below.

A fragment shader can use time plus position as input, and produce color as output.

NOTE 1: Allowable data types: float, vec2, vec3 and vec4.
NOTE 2: Constants must have decimal points. Example: "4.0", not "4".

</script>

<!! REPLACE THE TEXT BELOW WITH YOUR SHADER CODE>


<script id="shader" type="x-shader/x-fragment">


    void main(void) {



    // extract u, v and time from input parameters:

    float u = vUV.x;
	float v = vUV.y;

	float time = uTime;

//// YOUR CODE SHOULD GO FROM HERE TO MATCHING COMMENT BELOW:

    // Make a pretty pattern using sine waves:

	float s = 0.5 + 0.5 * sin(30.0 * v - sin(4.0*time))
	                    * sin(30.0 * v - cos(4.0*time));
    float sg = 0.5 + 0.5 * sin(31.0 * v - sin(4.0*time))
                        * sin(31.0 * v - cos(4.0*time));
    float ssb = 0.5 + 0.5 * sin(32.0 * v - sin(4.0*time))
                        * sin(32.0 * v - cos(4.0*time));

    float b = (sin(90.0*time)*0.3)+0.04 * sin(u)*100.0;
    float g = ((0.5 + 0.5 * cos(30.0 * u - sin(4.0*time)) * sin(90.0 * u - cos(sin(22.0*time)*time))) * sin(v*200.0*time) * cos(u*205.0*time));

    //trying some variations

   // float b = (0.5 + 0.5 * cos(30.0 * u - sin(4.0*time)) * sin(90.0 * u - cos(sin(22.0*time)*time))) * sin(v*u*2000.0*time);

   //float r = ceil(sin((u-1.5)*200.0*sin(sin(time))*0.1) * sin(v*20.0*cos(v*(sin(time))*0.1)) * 1.0);

   float r = sin(u*9.5) * (abs(cos((v*10.0)+time*10.0)));

   float c = abs(sin(u*3.14)*sin(v*3.14) * sin(time*40.0));
   

   float rc = r*c;
   float sb = s*b;
   float sbrgc = s*b*g*r*c;


    // Use u and v to vary red and green insensity, and
    // use the sine pattern to vary blue intensity:

    vec3 color = vec3(r,r,r)+vec3(c,c,c)+vec3(g,sbrgc,sbrgc)+(vec3(s,sg,ssb)*0.1);
                //vec3 color = vec3(r,r,c);


//// THIS IS THE MATCHING COMMENT.

    // Send final color to output, and add an opacity channel:
    
        gl_FragColor = vec4(color, 1.0);
    }
</script>

<script>start()</script>
